
При работе в команде мы имеем дело с локальным репозиторием (по сути папка с файлами проекта на нашем компьютере) и удаленным репозиторием (на каком-то сервисе для организации VCS типа GitHub или GitLab, с ним через локальные репозитрии взаимодействуют разработчики, они могут скопировать себе, поработать с проектом, отправить изменения в удаленный репозиторий и т.п.). Для самой примитивной работы с git нужно знать не так уж и много команд.

---
## git clone

Слово "clone" в команде **git clone**, конечно, расшифровывается как "клонировать". Сама команда имеет такую форму записи:

```

git clone <ссылка на репозиторий> <название папки>

```


То есть мы просим Git создать копию репозитория, который находится по ссылке (**<ссылка на репозиторий>**), и можем указать название новой папки, в которую Git скопирует репозиторий (**<название папки>**). Если его не указать, папка будет называться так же, как и сам репозиторий.

Давайте рассмотрим как это работает.

**Пример**

Представим, что у нас есть репозиторий "**first-repo**", и мы хотим загрузить его на наш компьютер:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-14.23.34.png)

Жмем на кнопку "**Clone or download**":

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-14.23.34-1.png)

и мы увидим ссылку на репозиторий:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.02.22.png)

В терминале, зайдем на рабочий стол. Скопируем эту ссылку и вставим в строку терминала:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.05.24.png)

Если мы все так и оставим, то на рабочий стол будет склонирована папка "first-repo" с содержанием репозитория:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.10.38.png)

Нужно отметить несколько вещей:

- как мы и говорили ранее, если не указывать новое название, папка будет называться так же, как и репозиторий - в данном случае "first-repo"

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.13.12.png)

- мы находились в папке "Рабочий стол", и репозиторий был создан в **папке на рабочем столе**. То есть, мы клонируем код **в папку в папке, в которой мы находимся**. Это значит, что мы всегда должны находится "на уровень выше".

Как мы уже говорили, можно и самим задать название папки. Например, давайте вернемся в папку "Рабочий стол".

И, как в прошлый раз, напишем **git clone** и ссылку на репозиторий, только теперь укажем имя папки - например, **myName**:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.25.01.png)

Если мы нажмем Enter, то у нас на рабочем столе появится новая папка с названием **myName**:

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.26.51.png)

![](https://vertex-academy.com/tutorials/wp-content/uploads/2018/12/Снимок-экрана-2018-12-09-в-15.27.03.png)

Отлично! В обеих папках Вы сможете увидеть то же самое - содержимое нашего репозитория на GitHub.

---

## git commit


Команда `git commit` используется для сохранения изменений в репозитории. После того как вы внесли изменения в индекс при помощи `git add`, `git commit` создает новый коммит, фиксируя изменения и сохраняя их в истории репозитория.

  

1. **Добавьте файлы в индекс с помощью `git add`:**

```

git add file1.txt file2.txt

```

 
    Эта команда добавляет `file1.txt` и `file2.txt` в индекс, подготавливая их к коммиту.
2. **Выполните команду `git commit` для создания коммита:**

    ```
    
    git commit -m "Добавлены новые файлы"
    
    ```


    Эта команда создает новый коммит с сообщением "Добавлены новые файлы", фиксируя изменения в истории репозитория.

  

**Важные замечания:**

- Каждый коммит в Git имеет уникальный идентификатор, который можно использовать для ссылки на него.
- Сообщение коммита (`-m` флаг) представляет собой краткое описание ваших изменений. Хорошие сообщения коммитов помогают понимать, что было изменено и почему.
- Если вы хотите внести изменения в последний коммит (например, добавить забытый файл), вы можете использовать `git commit --amend`.


---

## git push

## Введение

Команда Git push позволяет отправлять локальную ветку на удаленный репозиторий. Она помогает разработчикам синхронизироваться в команде, а именно отправляет проделанные изменения. Если программист работает один, то пуш позволяет хранить код в облаке, например github, gitlab и не только, избавляя от риска потери данных на компьютере.

Дополнительно для синхронизации еще используют git pull для получения изменений с сервера и git remote, чтобы получить список удаленных подключений к репозиторию.

В этой инструкции мы расскажем, как запушить в удаленный git репозиторий. В статье под «пушем» будем подразумевать git push.

## Отправка изменений в чистый репозиторий

Перед пушем надо связать локальный и удаленный репозитории. Делается это при помощи команды:

```
git remote add <repository_name> link
```

Вместо **repository_name** нужно дать имя удаленному репозиторию. Далее в инструкции вместо этого параметра мы будем использовать origin, так как чаще всего используют это имя.

Вместо **link** — ссылка на удаленный репозиторий, она может выглядеть по-разному в зависимости от того используется ssh или https. 

Для ssh, который обязателен для [github](https://docs.github.com/en/github-ae@latest/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)) и [gitlab](https://docs.gitlab.com/ee/user/ssh.html), потребуются сделать дополнительные манипуляции для создания ssh-ключа. Соответствующие инструкции есть на этих ресурсах.

## Отправка изменений

Перед пушем надо зафиксировать текущие изменения, то есть сделать git commit.

Далее для отправки в терминале пишем:

```
git push origin <branch> 
```

Вместо **branch** — имя ветки, которую надо отправить. Чаще всего используется master или main: 

```
git push origin master 
```

Такое каждый раз писать слишком громоздко, для этого придумали git push по умолчанию. Для этого единожды набираем предыдущую команду с флагом -u:

```
git push -u origin master
```

После этого можно писать более коротко, так как git запомнил, что пушить надо на сервер origin ветку под именем master:

```
git push
```

Таким образом, git позволяет запушить ветку в удаленный репозиторий. Чтобы через git добавить ветку в удаленный репозиторий, надо запушить существующую локальную ветку.

### Отправка ветки на сервер в ветку с другим именем

Для того чтобы сделать git push в другую ветку, есть специальный синтаксис, где после имени ветки через двоеточие пишется имя удаленной ветки:

```
git push origin branch:server_branch
```

где **branch** – имя локальной ветки, **server_branch** – имя удаленной ветки на сервере.

### Отправка всех веток на сервер

Вместо имени ветки пишем  флаг —all: 

```
git push origin --all
```

После этого все зафиксированные изменения в ветках отправятся в удаленный репозиторий.

### Отправка текущей ветки

Удобный способ отправить текущую ветку с тем же именем на сервере.

```
git push origin HEAD 
```

HEAD указывает на текущую ветку (current branch). Тем самым, не надо запоминать имя ветки, на которой вы находитесь.

### Проверить, удастся ли пушинг (dry run option)

С этой опцией пушинг фактически не произойдет, но покажет вывод словно он произошел.

```
git push --dry-run
```

Так можно получить ошибку, которая могла бы произойти, и поправить ее заранее.

### Атомарный пушинг (atomic option)

Если отправить несколько веток на сервер, некоторые могут быть приняты, а другие — нет. Иногда это не то поведение, которое ожидалось. Например, пушинг делает некоторая проверяющая система и ожидаемое поведение такое: либо все будут приняты, либо все будут отклонены. В таких случаях надо делать пушинг атомарно:

```
git push --atomic origin branch1 branch2 …
```

## Заключение

В этой инструкции мы рассмотрели наиболее частые сценарии использования git push. В этой команде много опций, некоторые из них даже редко встречаются. Со всеми ними можно ознакомиться в документации:

```
git push –help
```

---

## git pull

Команда `git pull` используется для извлечения изменений из удаленного репозитория и автоматического объединения их с текущей веткой. Эта команда объединяет в себе две другие команды: `git fetch`, которая извлекает изменения из удаленного репозитория, и `git merge`, которая автоматически объединяет их с текущей веткой.

  

Выполните команду `git pull`, указав имя удаленного репозитория (например, `origin`) и ветку (например, `main`):

```

git pull origin main

```

Эта команда извлечет изменения из удаленного репозитория `origin` в ветку `main` и автоматически объединит их с текущей веткой.

  

**Важные замечания:**

- По умолчанию git pull по факту сливает (merge) локальных данных с там, что на сервере. Можно использовать флаг --rebase для того, чтобы уйти от конфликтов при слиянии. 

```

git pull --rebase origin main

```

- Если ваша текущая ветка отслеживает удаленную ветку, вы можете использовать `git pull` без указания имени ветки и удаленного репозитория: `git pull`.
- Используйте `git pull` осторожно, чтобы избежать конфликтов слияния. Если у вас есть неотправленные локальные изменения, они могут стать причиной конфликтов.
- `git pull` применяется только к текущей ветке. Если вы хотите извлечь и объединить изменения в другую ветку, переключитесь на нее перед выполнением `git pull`.

Команда `git pull` упрощает процесс обновления вашего локального репозитория с изменениями из удаленного репозитория, что особенно полезно в ситуациях, когда вы работаете в команде и хотите быть в курсе последних обновлений.