
## Описание

SQL оператор EXCEPT используется для возврата всех строк в первом операторе SELECT, которые не возвращаются вторым оператором SELECT. Каждый оператор SELECT будет определять набор данных. Оператор EXCEPT извлечет все записи из первого набора данных, а затем удалит из результатов все записи из второго набора данных.

### Запрос Except

[![SQL оператор EXCEPT](https://oracleplsql.ru/wp-content/uploads/2018/11/minus1_de-300x223.jpg)](https://oracleplsql.ru/wp-content/uploads/2018/11/minus1_de.jpg)

**Пояснение:** Запрос EXCEPT вернет записи в синей заштрихованной области. Это записи, которые существуют в наборе данных SELECT1, а не в наборе данных SELECT2.

Каждый оператор SELECT в запросе EXCEPT должен иметь одинаковое количество полей в наборах результатов с одинаковыми типами данных.

**Подсказка:** оператор EXCEPT поддерживается не во всех базах данных SQL. Он может использоваться в таких базах данных, как SQL Server, PostgreSQL и SQLite.

Для таких баз данных, как Oracle, используйте оператор MINUS для выполнения этого типа запроса.

## Синтаксис

Синтаксис для оператора EXCEPT в SQL:

```SQL

SELECT expression1, expression2, ... expression_n  
FROM tables  
[WHERE conditions]  
EXCEPT  
SELECT expression1, expression2, ... expression_n  
FROM tables  
[WHERE conditions];

```

### Параметры или аргументы

`expression1, expression2, expression_n`

Столбцы или расчеты, которые вы хотите получить.

`tables`

Таблицы, из которых вы хотите получить записи. В предложении FROM должна быть указана хотя бы одна таблица.

`WHERE conditions`

Необязательный. Это условия, которые должны быть выполнены для выбора записей.

## Примечание

- В обоих операторах SELECT должно быть одинаковое количество выражений.
- Соответствующие выражения должны иметь одинаковый тип данных в SELECT предложении. Например: expression1 должен иметь одинаковый тип данных как в первом, так и во втором операторе SELECT.